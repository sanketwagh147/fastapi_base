# =============================================================================
# ENVIRONMENT CONFIGURATION EXAMPLE
# =============================================================================
# This file demonstrates all available configuration options.
#
# CASCADING CONFIGURATION:
#   1. .env_base is loaded first (common settings for all environments)
#   2. .env_{environment} is loaded second (overrides base settings)
#
# SETUP:
#   1. Copy this file to .env_{environment} where environment is one of:
#      local, dev, uat, uatbiz, preprod, sanity, prod
#
#   2. For local development: copy to .env_local
#
#   3. Set ENV environment variable to select which file to load
#      Example: ENV=dev will load .env_base + .env_dev
#
#   4. Optionally set LOCAL_ENV_OVERRIDE=true to test other environments locally
#
# =============================================================================
# KUBERNETES SECRETS SUPPORT
# =============================================================================
# Multi-source secret loading priority: K8s secrets → Environment vars → Files → Default
#
# Set these environment variables in your K8s deployment:
#   SECRETS_FOLDER_NAME=secrets         # Folder under /etc/ (default: secrets)
#   PROJECT_KEY=eventually              # Project prefix for secret names
#
# Secret file path: /etc/{SECRETS_FOLDER_NAME}/{PROJECT_KEY}_{secret_name}
#
# Expected secret files (K8s mounts as plain text):
#   /etc/secrets/eventually_app_secret_key    -> SECRET_KEY
#   /etc/secrets/eventually_db_user           -> DATABASE_USER
#   /etc/secrets/eventually_db_password       -> DATABASE_PASSWORD
#   /etc/secrets/eventually_redis_password    -> REDIS_PASSWORD (optional)
#   /etc/secrets/eventually_api_key           -> API_KEY (optional)
#   /etc/secrets/eventually_api_secret        -> API_SECRET (optional)
#   /etc/secrets/eventually_jwt_secret_key    -> JWT_SECRET_KEY (optional)
#
# Alternative: Use _FILE suffix pattern (Docker/K8s standard):
#   DATABASE_PASSWORD_FILE=/run/secrets/db-password
#   SECRET_KEY_FILE=/run/secrets/app-secret-key
# =============================================================================

# =============================================================================
# CORE SETTINGS (Settings class)
# =============================================================================
# Environment selection - determines which .env file to load
ENV=local

# Kubernetes secrets configuration
SECRETS_FOLDER_NAME=secrets
PROJECT_KEY=eventually

# Application identity
APP_NAME=Eventually API
APP_VERSION=0.1.0

# Application security
DEBUG=false
SECRET_KEY=your-secret-key-here-change-in-production-min-32-chars

# Server configuration
HOST=0.0.0.0
PORT=8000
RELOAD=false
WORKERS=1

# Local environment override (allows testing other environments locally)
LOCAL_ENV_OVERRIDE=false

# =============================================================================
# DATABASE CONFIGURATION (DatabaseConfig class)
# =============================================================================
# Database connection
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=eventually_user
DATABASE_PASSWORD=change-this-password-in-production
DATABASE_DB_NAME=eventually
DATABASE_DRIVER=postgresql+asyncpg

# Connection pool settings
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_RECYCLE=900

# Query and connection settings
DATABASE_ECHO=false
DATABASE_TIMEOUT=30

# Optional: Use file-based secrets
# DATABASE_PASSWORD_FILE=/run/secrets/db-password

# =============================================================================
# FASTAPI CONFIGURATION (FastAPIConfig class)
# =============================================================================
# API metadata
FASTAPI_TITLE=Eventually API
FASTAPI_DESCRIPTION=Event management API
FASTAPI_VERSION=0.1.0

# API documentation endpoints
FASTAPI_DOCS_URL=/docs
FASTAPI_REDOC_URL=/redoc
FASTAPI_OPENAPI_URL=/openapi.json

# Advanced settings
FASTAPI_ROOT_PATH=
FASTAPI_DEBUG=false

# =============================================================================
# CORS CONFIGURATION (CORSConfig class)
# =============================================================================
# Allowed origins (comma-separated)
CORS_ALLOW_ORIGINS=http://localhost:5173,http://localhost:3000

# CORS policies
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Production example:
# CORS_ALLOW_ORIGINS=https://eventually.com,https://app.eventually.com
# CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH
# CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Request-ID

# =============================================================================
# LOGGING CONFIGURATION (LoggingConfig class)
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format (standard Python logging format)
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# JSON structured logging (recommended for production)
LOG_JSON_FORMAT=false

# Optional: File logging path
LOG_FILE_PATH=

# Production example:
# LOG_LEVEL=WARNING
# LOG_JSON_FORMAT=true
# LOG_FILE_PATH=/var/log/eventually/app.log

# =============================================================================
# REDIS CONFIGURATION (RedisConfig class) - Optional
# =============================================================================
# Redis connection
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TIMEOUT=5

# Optional: Use file-based secrets
# REDIS_PASSWORD_FILE=/run/secrets/redis-password

# Production example:
# REDIS_HOST=redis.production.internal
# REDIS_PASSWORD=secure-redis-password-here
# REDIS_DB=0

# =============================================================================
# JWT AUTHENTICATION (JWTConfig class) - Optional
# =============================================================================
# JWT secret key (MUST be different from SECRET_KEY)
JWT_SECRET_KEY=

# JWT algorithm
JWT_ALGORITHM=HS256

# Token expiration
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Optional: Use file-based secrets
# JWT_SECRET_KEY_FILE=/run/secrets/jwt-secret

# Production example:
# JWT_SECRET_KEY=your-jwt-secret-min-64-chars-for-HS256
# JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
# JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# =============================================================================
# EXTERNAL API CONFIGURATION (APIConfig class) - Optional
# =============================================================================
# API credentials
API_KEY=
API_SECRET=

# API settings
API_TIMEOUT=30
API_RATE_LIMIT=100

# Optional: Use file-based secrets
# API_KEY_FILE=/run/secrets/api-key
# API_SECRET_FILE=/run/secrets/api-secret

# Production example:
# API_KEY=your-external-api-key-here
# API_SECRET=your-external-api-secret-here
# API_TIMEOUT=60
# API_RATE_LIMIT=1000

# =============================================================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# =============================================================================
#
# .env_local (development):
#   DEBUG=true
#   RELOAD=true
#   LOG_LEVEL=DEBUG
#   DATABASE_ECHO=true
#   FASTAPI_DEBUG=true
#
# .env_dev (development server):
#   WORKERS=2
#   LOG_LEVEL=DEBUG
#   CORS_ALLOW_ORIGINS=https://dev.eventually.com
#
# .env_prod (production):
#   DEBUG=false
#   WORKERS=4
#   LOG_LEVEL=WARNING
#   LOG_JSON_FORMAT=true
#   DATABASE_POOL_SIZE=20
#   DATABASE_MAX_OVERFLOW=40
#   CORS_ALLOW_ORIGINS=https://eventually.com
#   # All secrets loaded from K8s
# =============================================================================
